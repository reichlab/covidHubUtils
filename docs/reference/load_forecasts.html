<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Load all available forecasts submitted on forecast_dates from Zoltar
or local hub repo. — load_forecasts • covidHubUtils</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Load all available forecasts submitted on forecast_dates from Zoltar
or local hub repo. — load_forecasts" />
<meta property="og:description" content="Load all available forecasts submitted on forecast_dates from Zoltar
or local hub repo." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">covidHubUtils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/covidHubUtils-overview.html">Tools for working with COVID-19 Forecast Hub data: a brief tour of the `covidHubUtils` R package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Load all available forecasts submitted on forecast_dates from Zoltar
or local hub repo.</h1>
    
    <div class="hidden name"><code>load_forecasts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Load all available forecasts submitted on forecast_dates from Zoltar
or local hub repo.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>load_forecasts</span><span class='op'>(</span>
  models <span class='op'>=</span> <span class='cn'>NULL</span>,
  forecast_dates <span class='op'>=</span> <span class='cn'>NULL</span>,
  locations <span class='op'>=</span> <span class='cn'>NULL</span>,
  types <span class='op'>=</span> <span class='cn'>NULL</span>,
  targets <span class='op'>=</span> <span class='cn'>NULL</span>,
  source <span class='op'>=</span> <span class='st'>"zoltar"</span>,
  <span class='va'>hub_repo_path</span>,
  data_processed_subpath <span class='op'>=</span> <span class='st'>"data-processed/"</span>,
  as_of <span class='op'>=</span> <span class='cn'>NULL</span>,
  hub <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"US"</span>, <span class='st'>"ECDC"</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>models</th>
      <td><p>Character vector of model abbreviations.
Default all models that submitted forecasts meeting the other criteria.</p></td>
    </tr>
    <tr>
      <th>forecast_dates</th>
      <td><p>The forecast date of forecasts to retrieve.
Default to all valid forecast dates.
The function will throw an error if all dates in this parameter are invalid forecast dates in Zoltar.</p></td>
    </tr>
    <tr>
      <th>locations</th>
      <td><p>list of location codes. Default to all locations with available forecasts.</p></td>
    </tr>
    <tr>
      <th>types</th>
      <td><p>Character vector specifying type of forecasts to load: <code>"quantile"</code>
and/or <code>"point"</code>. Default to all valid forecast types.</p></td>
    </tr>
    <tr>
      <th>targets</th>
      <td><p>character vector of targets to retrieve, for example
<code>c('1 wk ahead cum death', '2 wk ahead cum death')</code>.
Default to <code>NULL</code> which stands for all valid targets.</p></td>
    </tr>
    <tr>
      <th>source</th>
      <td><p>string specifying where forecasts will be loaded from: either
<code>"local_hub_repo"</code> or <code>"zoltar"</code>. Default to <code>"zoltar"</code>.</p></td>
    </tr>
    <tr>
      <th>hub_repo_path</th>
      <td><p>path to local clone of the forecast hub
repository</p></td>
    </tr>
    <tr>
      <th>data_processed_subpath</th>
      <td><p>folder within the hub_repo_path that contains
forecast submission files.  Default to <code>"data-processed/"</code>, which is
appropriate for the covid19-forecast-hub repository.</p></td>
    </tr>
    <tr>
      <th>as_of</th>
      <td><p>character for date time to load forecasts submitted as of this time from Zoltar.
Ignored if <code>source = "local_hub_repo"</code>.
It could use the format of one of the three examples:
<code>"2021-01-01", "2020-01-01 01:01:01" and "2020-01-01 01:01:01 UTC"</code>.
If you would like to set a timezone, it has to be UTC now.
If not, helper function will append the default timezone to your input based on <code>hub</code> parameter.
Default to NULL to load the latest version.</p></td>
    </tr>
    <tr>
      <th>hub</th>
      <td><p>character vector, where the first element indicates the hub
from which to load forecasts. Possible options are <code>"US"</code> and <code>"ECDC"</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical to print out diagnostic messages. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.frame with columns <code>model</code>, <code>forecast_date</code>, <code>location</code>, <code>horizon</code>,
<code>temporal_resolution</code>, <code>target_variable</code>, <code>target_end_date</code>, <code>type</code>, <code>quantile</code>, <code>value</code>,
<code>location_name</code>, <code>population</code>, <code>geo_type</code>, <code>geo_value</code>, <code>abbreviation</code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='co'># load forecasts from US forecast hub</span></span>
<span class='r-in'><span class='fu'>load_forecasts</span><span class='op'>(</span>models <span class='op'>=</span> <span class='st'>"COVIDhub-ensemble"</span>,</span>
<span class='r-in'> forecast_date <span class='op'>=</span> <span class='st'>"2020-12-07"</span>,</span>
<span class='r-in'> locations <span class='op'>=</span> <span class='st'>"US"</span>,</span>
<span class='r-in'> types <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"point"</span>,<span class='st'>"quantile"</span><span class='op'>)</span>,</span>
<span class='r-in'> targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>, <span class='st'>"wk ahead inc case"</span><span class='op'>)</span>,</span>
<span class='r-in'> source <span class='op'>=</span> <span class='st'>"zoltar"</span>,</span>
<span class='r-in'> verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span class='r-in'> as_of <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_token(): POST: https://zoltardata.com/api-token-auth/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/projects/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/project/44/timezeros/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73263/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73263/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73263/data/</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 32 x 16</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    model        forecast_date location horizon temporal_resolut… target_variable</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>             <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 1</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 2</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 3</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 4</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 5</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 6</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 7</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 8</span> COVIDhub-en… 2020-12-07    US       1       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 9</span> COVIDhub-en… 2020-12-07    US       2       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>10</span> COVIDhub-en… 2020-12-07    US       2       wk                inc case       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 22 more rows, and 10 more variables: target_end_date &lt;date&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   type &lt;chr&gt;, quantile &lt;dbl&gt;, value &lt;dbl&gt;, location_name &lt;chr&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   population &lt;dbl&gt;, geo_type &lt;chr&gt;, geo_value &lt;chr&gt;, abbreviation &lt;chr&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   full_location_name &lt;chr&gt;</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># load forecasts from ECDC forecast hub</span></span>
<span class='r-in'><span class='fu'>load_forecasts</span><span class='op'>(</span>models <span class='op'>=</span> <span class='st'>"ILM-EKF"</span>,</span>
<span class='r-in'> hub <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ECDC"</span>,<span class='st'>"US"</span><span class='op'>)</span>,</span>
<span class='r-in'> forecast_date <span class='op'>=</span> <span class='st'>"2021-03-08"</span>,</span>
<span class='r-in'> locations <span class='op'>=</span> <span class='st'>"GB"</span>,</span>
<span class='r-in'> targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>, <span class='st'>"wk ahead inc death"</span><span class='op'>)</span>,</span>
<span class='r-in'> source <span class='op'>=</span> <span class='st'>"zoltar"</span><span class='op'>)</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_token(): POST: https://zoltardata.com/api-token-auth/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/projects/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/project/238/timezeros/</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> polling for status change. job_url=https://zoltardata.com/api/job/73264/</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73264/</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> QUEUED</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73264/</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> SUCCESS</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> get_resource(): GET: https://zoltardata.com/api/job/73264/data/</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 96 x 12</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    model   forecast_date location horizon temporal_resolution target_variable</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>               <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 1</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 2</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 3</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 4</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 5</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 6</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 7</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 8</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 9</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>10</span> ILM-EKF 2021-03-08    GB       1       wk                  inc death      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 86 more rows, and 6 more variables: target_end_date &lt;date&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   type &lt;chr&gt;, quantile &lt;dbl&gt;, value &lt;dbl&gt;, location_name &lt;chr&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   population &lt;int&gt;</span></span>
<span class='r-in'></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Serena Wang, Ariane Stark, Evan L Ray, Nikos I. Bosse, Nicholas G. Reich, Nutcha Wattanachit.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


